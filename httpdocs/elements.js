var elements =[{ name: 'app.firstLogin', path: 'app/firstLogin', type: 'html', content: "<div class=\"p-login\" role='full-view-height'>\r\n    <div class=\"bg-login\" ></div> \r\n    <div EnterCode>\r\n        <div class=\"login-box login-box--absolute \">\r\n            <div class=\"bs-notify-login\">\r\n                <span> Vui lòng nhập mã bệnh nhân của bạn</span>\r\n            </div>\r\n            <div class=\"box-input-login\">\r\n                <fieldset class=\"p-code-box \">\r\n                    <input type=\"text\" name=\"table-edit\" type=\"number\" maxlength=\"8\" id=\"txtCode\"/>\r\n                </fieldset>\r\n            </div>\r\n            <div class=\"box-btn box-btn--absolute\">\r\n                <a id=\"btn_login\" class=\"qa-btn qa-btn--raised\">Tiếp theo</a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div congratulation>\r\n        <div class=\"login-box login-box--absolute \">\r\n            <div class=\"bs-notify-login\">\r\n                <span>Chào</span>\r\n                <span data-patient-name>Nguyễn Văn A</span>\r\n            </div>\r\n            <div class=\"box-btn box-btn--absolute\">\r\n                <a id=\"btn_next\" class=\"qa-btn qa-btn--raised\">Tiếp theo</a>\r\n            </div>\r\n        </div>\r\n        <div class=\"p-congratulation\">\r\n            <p class=\"s-item isUser\">không phải bạn?</p>\r\n            <a class=\"s-item ResetCode\" id=\"btn_CleanCode\">Nhập lại mã bệnh nhân</a>\r\n        </div>\r\n    </div>    \r\n</div>\r\n\r\n\r\n" },{ name: 'app.Home.Pages.home', path: 'app/Home/Pages/home', type: 'html', content: "<div id=\"container\">\r\n    <header id=\"header\">\r\n        <div class=\"g-header \">\r\n            <div class=\"h-item box-logout \"  id=\"btn_logout\">\r\n                <a id=\"btn-logout\"> <span class=\"icon icon--logout\"></span></a>\r\n            </div>\r\n            <div class=\"h-item box-user-info\">\r\n                <span data-name>Nguyễn Văn A</span>\r\n            </div>\r\n            <div class=\"h-item box-search\">\r\n                <div class=\"p-search-box box-input\">\r\n                    <fieldset class=\"icon icon--search\">\r\n                        <input type=\"text\" name=\"table-edit\" type=\"number\" maxlength=\"100\" id=\"txtSearch\" />\r\n                    </fieldset>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </header>\r\n    <div class=\"p-home\">\r\n        <div class=\"c-video\">\r\n            <div class=\"v-most-view\">\r\n                <div>Xem gần đây</div>\r\n                <div class=\"box-wraper clearfix\">\r\n                    <div class=\"box-image\">\r\n                        <p class=\"img-fade\"></p>\r\n                     </div>\r\n                     <div class=\"box-info\">\r\n                         <p class=\"info info-title\">How To: The Hundred </p>\r\n                         <p class=\"info info-author\">Admin123</p>\r\n                         <p class=\"info info-post-time\">5 giờ trước</p>\r\n                         <p class=\"info info-description\">Bài tập thích hợp cho những người bị cao huyết áp, tiểu đường. Giúp cải thiện tuần hoàn máu, giảm ...</p>\r\n                     </div>\r\n                </div>\r\n              \r\n            </div>\r\n            <div class=\"v-recent-view\">\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>" },{ name: 'app.firstLogin', path: 'app/firstLogin', type: 'js', content: "services.registerPage(file.path, file.name, function (control) {\r\n\r\n    let v_EnterCode = $(control).find(\"[EnterCode]\");\r\n    let v_Congratulation = $(control).find(\"[congratulation]\");\r\n    v_EnterCode.hide();\r\n    v_Congratulation.hide();\r\n    let patientInfo;\r\n\r\n    ProcessRequest(ws_query.device_Login(), function (data) {\r\n        rows = data[0];\r\n        if (rows[0][0].CheckExistedDevice === \"OK\") {\r\n            window.location = \"#!/app/Home/Pages/home\";\r\n        }\r\n        else {\r\n            showControl(v_EnterCode, v_Congratulation, true);\r\n        }\r\n    });\r\n\r\n    $(control.txtCode).keyup((e) => {\r\n        e.preventDefault();\r\n        var keycode = (event.keyCode ? event.keyCode : event.which);\r\n        if (keycode == '13') {\r\n            const vali_result = validata($(control.txtCode));\r\n            if (!vali_result.error) {\r\n                toastr[\"info\"](vali_result.msg, \"Thông báo\");\r\n                return;\r\n            }\r\n            event_login();\r\n        }\r\n    });\r\n    $(control.btn_login).click(() => {\r\n        const vali_result = validata($(control.txtCode));\r\n        if (!vali_result.error) {\r\n            toastr[\"info\"](vali_result.msg, \"Thông báo\");\r\n            return;\r\n        }\r\n        event_login();\r\n    });\r\n    $(control.btn_CleanCode).click(() => {\r\n        showControl(v_EnterCode, v_Congratulation, true);\r\n    });\r\n    $(control.btn_next).click(() => {\r\n        const MappingPatient = ws_query.checkTheSamePatient($(control.txtCode).val());\r\n        ProcessRequest([MappingPatient], (data) => {\r\n            if (data[0][0].Result === 'Duplicated') {\r\n            }\r\n            else {\r\n                toastr[\"success\"](\"Thành công.\", \"Thông báo\");\r\n                window.location = \"#!/app/Home/Pages/home\";\r\n            }\r\n        });\r\n    });\r\n\r\n    const event_login = () => {\r\n        //Kiểm tra Code của bệnh nhân\r\n        const query = ws_query.checkBarcode_User($(control.txtCode).val());\r\n        ProcessRequest([query], function (Result) {\r\n            const status_login = Result[0][0];\r\n            if (status_login.Result == \"OK\") {\r\n                patientInfo = Result[0][0];\r\n                $(control).find(\"[data-patient-name]\").text(patientInfo.FullName);\r\n                console.log(patientInfo);\r\n                showControl(v_EnterCode, v_Congratulation, false);\r\n            }\r\n            else if (status_login.Result != \"OK\") {\r\n                toastr[\"info\"](\"Mã không chính xác. Vui lòng kiểm tra lại!\", \"Thông báo\")\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n});\r\n\r\nconst validata = (ctl) => {\r\n    let msg = \"\";\r\n    let error = true;\r\n    if (ctl.val().length < 8) {\r\n        error = false;\r\n        msg += \"Mã bao gồm 8 ký tự !!!. </br>\";\r\n    }\r\n    return { error, msg };\r\n}\r\nconst ws_query = {\r\n    checkBarcode_User: (_val) => new DataQuery(\"ws_checkBarcode_UserV2\", {\r\n        UserCode: _val,\r\n        DeviceID: services.getItemLocal(\"DeviceID\"),\r\n    }),\r\n    checkTheSamePatient: (_val) => new DataQuery('ws_checkTheSamePatient', {\r\n        UserCode: _val,\r\n        DeviceID: services.getItemLocal(\"DeviceID\"),\r\n    }),\r\n    patientInforByCode: () => new DataQuery('ws_getPatientInforByCode', {\r\n        DeviceID: services.getItemLocal(\"DeviceID\"),\r\n    }),\r\n    device_Login: () => new DataQuery(\"ws_Device_Login\", { DeviceID: services.getItemLocal('DeviceID') }),\r\n    device_Logout: () => new DataQuery(\"ws_UserPatient_Logout\", { DeviceID: services.getItemLocal('DeviceID') }),\r\n}\r\nconst showControl = (_ctlEnterCode, _ctlCongratulation, _status = true) => {\r\n    if (_status) {\r\n        _ctlEnterCode.show();\r\n        _ctlCongratulation.hide();\r\n    } else {\r\n        _ctlEnterCode.hide();\r\n        _ctlCongratulation.show();\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n" },{ name: 'app.Home.Pages.home', path: 'app/Home/Pages/home', type: 'js', content: "\r\nservices.registerPage(file.path, file.name, function (control) {\r\n    /*------------------------------------------------------------\r\n        contractor\r\n    ------------------------------------------------------------*/\r\n    ProcessRequest(ws_query.patientInforByCode(), function (data) {\r\n       console.log(data);\r\n       const result = data[0][0];\r\n       $(control).find(\"[data-name]\").text(result.FullName);\r\n    });\r\n    /*------------------------------------------------------------\r\n        client event\r\n    ------------------------------------------------------------*/\r\n    $(control.btn_logout).click(() => {\r\n        ProcessRequest(ws_query.device_Logout(), function (data) {\r\n            toastr[\"success\"](\"Thành công!\", \"Thông báo\");\r\n            window.location = \"#!/app/firstLogin\";\r\n        });\r\n    });\r\n});\r\nconst ws_query = {\r\n    device_Logout: () => new DataQuery(\"ws_UserPatient_Logout\", { DeviceID: services.getItemLocal('DeviceID') }),\r\n    patientInforByCode: () => new DataQuery('ws_getPatientInforByCode', {DeviceID: services.getItemLocal(\"DeviceID\"),}),\r\n};" },{ name: 'error.404', path: 'error/404', type: 'html', content: "﻿<div>\r\n\r\n    <!-- Content area -->\r\n    <div class=\"content\">\r\n        <!-- Error title -->\r\n        <div class=\"text-center content-group\">\r\n            <h1 class=\"error-title\">404</h1>\r\n            <h5>Oops, an error has occurred. Page not found!</h5>\r\n        </div>\r\n        <!-- /error title -->\r\n\r\n    </div>\r\n\r\n</div>\r\n" },{ name: 'error.404', path: 'error/404', type: 'js', content: "﻿\r\nservices.registerPage(file.path, file.name, function (control) {\r\n\r\n})\r\n\r\n" },]